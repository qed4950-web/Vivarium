# 🏷 스마트 가드닝 AIoT

## **라벨링 기준 가이드라인 (Labeling Guideline)**

Roboflow 기반 식물 건강·성장·병충해 모델 학습을 위한 표준 라벨링 규칙

---

# 🎯 1. 목적

라벨링 기준은 아래 목적을 위해 필요하다:

1. 식물 상태(건강, 병충해, 스트레스)를 일관되게 판단
2. 모델이 식물의 작은 패턴까지 학습하도록 세밀함 유지
3. 누구나 동일한 기준으로 라벨링할 수 있도록 통일된 규칙 제공
4. “잘못된 라벨링”으로 생기는 성능 하락을 방지

---

# 📁 2. 라벨 클래스 설계 (권장 구조)

식물 비전 모델은 **총 4개 프로젝트**로 나누는 것을 추천했고,
각 프로젝트별 라벨 클래스는 아래처럼 구성한다:

---

## 🌱 A. 식물 종류 식별(Project: plant_species)

### ✔ 라벨 방식: **Image Classification or Object Detection**

* 단일 화분이면 Classification
* 여러 화분/여러 식물 섞여 있으면 Detection

### ✔ 클래스 예시

```
Basil
Rosemary
Mint
Tomato
Pepper
Lettuce
Monstera
SnakePlant
```

**중요**

* 식물 전체(전체 실루엣)를 포함하도록 라벨
* 잎 일부가 아니라 반드시 ‘주 식물 전체’를 라벨

---

## 🌿 B. 식물 건강 상태(Project: plant_health)

### ✔ 라벨 방식: **Object Detection (Bounding Box)**

건강 상태는 "부분별로" 판단해야 함.

### ✔ 클래스 구성

```
healthy_leaf
stressed_leaf
wilted_leaf
yellowing_leaf
dry_leaf
```

각 클래스 정의는 다음과 같음:

### 🟢 healthy_leaf

* 선명한 녹색
* 질감이 매끄러움
* 얼룩/점/마름 없음
* 잎끝/모서리 손상 없음

### 🟡 stressed_leaf

* 색이 약간 연함
* 잎끝이 살짝 말림
* 전체적으로 힘이 떨어져 보임
* 단순 스트레스 상태 (병은 아님)

### 🟡 yellowing_leaf

* 노란빛이 잎 전체 또는 일부에 명확히 드러남
* 질소 부족, 광량 부족 등 영양 스트레스 가능성

### 🟤 dry_leaf

* 잎끝/측면이 갈색
* 건조로 인해 모서리가 타들어감
* 바삭한 형태

### 🔻 wilted_leaf

* 잎 전체가 아래로 처짐
* 수분 부족으로 축 늘어짐
* 생기 없음

---

## 🍂 C. 식물 병해(Project: plant_disease)

### ✔ 라벨 방식: Object Detection (필수)

병반/곰팡이/손상은 **부분별**로 정확히 라벨링해야 함.

### ✔ 클래스 구성

```
leaf_spot
brown_spot
yellow_spot
leaf_mold
leaf_damage
```

각 클래스 정의는 아래 기준을 따른다:

### 🔴 leaf_spot

* 작은 원형 또는 불규칙 반점
* 색은 다양 (갈색, 검정, 노란색)
* 잎 표면에 뚜렷한 spot이 존재

### 🔴 brown_spot

* 갈색 반점 또는 패치
* 크기가 커도 spot으로 간주함
* 조직이 죽은 형태

### 🟡 yellow_spot

* 노란색 작은 spot
* 주변과 색 대비 명확

### ⚪ leaf_mold

* 곰팡이
* 특징: 흰색, 회색, 가루 형태
* 잎 뒷면에도 있을 가능성 있음

### 🩹 leaf_damage

* 물리적 손상
* 구멍/찢김/패임
* 벌레나 환경 요인 모두 포함

---

## 🐛 D. 벌레(Project: plant_pests)

### ✔ 라벨 방식: Object Detection (필수)

### ✔ 클래스 구성

```
aphid       (진딧물)
spider_mite (응애)
fungus_gnat (혹파리)
```

### 클래스 기준

* 벌레가 매우 작기 때문에 Bounding Box는 **정확한 최소 영역**으로
* 크기 작을수록 “Tiling 기능” 사용을 권장
* 겹쳐 있는 경우 “각 벌레마다 박스 따로”

---

# 📐 3. 라벨링 세부 규칙 (중요)

### ✔ 1) 박스는 “대상 객체만” 포함

흙/줄기/다른 잎이 들어가면 성능 하락

### ✔ 2) 병반이 여러 개면 **Spot마다 따로 bounding box**

예:

```
[spot1] [spot2] [spot3]
```

### ✔ 3) 헷갈리면 “작은 쪽으로” 박스

Bounding box가 크면 모델이 엉뚱한 feature를 학습함

### ✔ 4) 오브젝트가 부분적으로 가려져도 라벨

가려져 있어도 존재 확인 가능하면 라벨

### ✔ 5) 너무 작은 병반은 제외

픽셀이 10×10 이하인 Spot은 무시해도 됨
(학습 잡음 방지)

---

# 🧪 4. 라벨링 품질 체크리스트

### ✔ Class Balance 확인

* 모든 클래스가 비슷하게 포함되어야 좋은 성능
* Roboflow Health Check에서 확인 가능

### ✔ Annotation Heatmap 확인

* 특정 위치에만 몰려 있으면 편향 발생
* 화면 전체에서 고르게 분포해야 함

### ✔ 박스 겹침 최소화

* 너무 겹치면 모델 혼란

### ✔ 너무 큰 박스 지양

* 잎 전체가 아니라 Spot, Damage 정도만 포함

---

# 🔄 5. 라벨링 예시 템플릿

### 건강 잎 예시

```
healthy_leaf: [[x1,y1,x2,y2], ...]
```

### 병반 예시

```
brown_spot: [[x1,y1,x2,y2], [x1,y1,x2,y2]]
leaf_damage: [[x1,y1,x2,y2]]
```

### 벌레 예시

```
aphid: [[x1,y1,x2,y2], [x1,y1,x2,y2]]
```

---

# 🚀 6. 다음 단계

데이터 수집과 라벨링이 끝나면
다음은 Roboflow에서 **프로젝트를 설정하고 데이터 버전 생성**해야 한다.

👉 다음 파일: **04_Roboflow_프로젝트_설정.md**

